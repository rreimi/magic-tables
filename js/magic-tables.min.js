!function(a){a.fn.magicTable=function(b){function d(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}}var c=a.extend({},{skipColumns:[],displayLabels:!0,skipLabels:[],skipFoot:!0,customTitle:"",labelSeparator:"",responsiveWidth:1024},b);return this.each(function(){var f,b=a(this)[0],e="",g=1,h=new Array,i=!1;for(a(this).addClass("magic-table"),d().width<=c.responsiveWidth&&(b.className=b.className+" rt-table"),f=0;f<b.rows[0].cells.length;f++)h[f]=b.rows[0].cells[f];for(a(b.rows[0]).addClass("rt-skip"),f=1;f<b.rows.length;f++)if(e=c.customTitle,i=!1,"THEAD"!==b.rows[f].parentNode.nodeName)if("TFOOT"===b.rows[f].parentNode.nodeName&&(i=!0,e="",c.skipFoot))a(b.rows[f]).addClass("rt-skip");else{i||(0==g%2?a(b.rows[f]).addClass("rt-odd"):a(b.rows[f]).addClass("rt-even"),g++);for(var j=0;j<b.rows[f].cells.length;j++){var k=b.rows[f].cells[j].className;!i&&c.skipColumns.indexOf(j)>=0&&(k+=" rt-skip rt-row rt-row-"+j),""!=e&&(e=e.replace(new RegExp("\\{"+j+"}","g"),b.rows[f].cells[j].innerHTML)),""!=k&&(b.rows[f].cells[j].className=k);var l="";c.displayLabels&&-1==c.skipLabels.indexOf(j)&&(l+='<span class="rt-visible rt-lbl">'+h[j].innerHTML+c.labelSeparator+" </span>"),l+=b.rows[f].cells[j].innerHTML,b.rows[f].cells[j].innerHTML=l}if(""!=e){var m=document.createElement("td");m.innerHTML=e,m.className="rt-block",b.rows[f].insertBefore(m,b.rows[f].firstChild)}}else a(b.rows[f]).addClass("rt-skip")}),a(window).on("resize",function(){a(".magic-table").each(function(){var b=a(this).hasClass("rt-table");d().width<=c.responsiveWidth&&!b&&a(this).addClass("rt-table"),d().width>c.responsiveWidth&&b&&a(this).removeClass("rt-table")})}),this}}(jQuery);